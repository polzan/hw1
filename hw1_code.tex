\documentclass{article}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}

%\usepackage{amsmath}
%\usepackage{siunitx}
%\usepackage{hyperref}
\usepackage{listings}
\usepackage{color}
\usepackage{textcomp}
%\usepackage{graphicx}
\usepackage{pgffor}

\definecolor{matlabgreen}{RGB}{28,172,0}
\definecolor{matlablilas}{RGB}{170,55,241}

\newcommand{\includecode}[1]{
  \lstinputlisting[caption={\ttfamily #1.m}, label={lst:#1}]{matlab/#1.m}
}

\author{Enrico Polo \and Riccardo Zanol}
\title{Homework 1 \\
  Matlab code}

\begin{document}
\lstset{
  language=Matlab,
  basicstyle={\ttfamily \footnotesize},
  breaklines=true,
  morekeywords={true,false,warning,xlim,ylim},
  keywordstyle=\color{blue},
  stringstyle=\color{matlablilas},
  commentstyle={\color{matlabgreen} \itshape},
  numberstyle={\ttfamily \tiny},
  frame=leftline,
  showstringspaces=false,
  numbers=left,
  upquote=true,
}
\maketitle
\begingroup
\catcode`\_=12
\foreach \i in {part1,part2,part3,part4,part5,generate_x,autocorrelation_unbiased,autocorrelation_biased,psd_welch_estim,ar_model,psd_ar_estim,predictor,lms_predictor,lms_filter,theoretical_psd,theoretical_autocorr} {
  \includecode{\i}
}
\endgroup
\begin{table}[hbtp]
  \centering
  \begin{tabular}{ll}
    Process realization & Seed value \\
    \hline
    Problem 1 & 1879687085 \\
    Problems 2,3,4 & 1836980698 \\
    Problem 4 - MSE & random \\
    Problem 5 & 1863282583
  \end{tabular}
  \caption{Seed values used to generate the realizations of $x(k)$}
  \label{tab:seeds}
\end{table}
\end{document}
